(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tabs"],{"67cb":function(t,e,a){},c02c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("插件管理器")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.getMod()}}},[t._v("取得信息")])],1),a("el-col",{attrs:{span:16}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("正常")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.normal,"max-height":"250"}},[a("el-table-column",{key:Math.random(),attrs:{label:"模组名称",prop:"plguinFilename"}}),a("el-table-column",{key:Math.random(),attrs:{label:"当前状态",prop:"status"}}),a("el-table-column",{key:Math.random(),attrs:{label:"可用操作",prop:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",icon:"el-icon-remove-outline"},on:{click:function(a){return t.modcmd("disable",e.row.plguinFilename)}}},[t._v("禁用")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.modcmd("remove",e.row.plguinFilename)}}},[t._v("删除")]),a("el-button",{attrs:{type:"info",icon:"el-icon-check"},on:{click:function(a){return t.getModinfo(e.row)}}},[t._v("更多信息")])]}}])})],1)],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("禁用中")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.disable,"max-height":"250"}},[a("el-table-column",{key:Math.random(),attrs:{label:"模组名称",prop:"plguinFilename"}}),a("el-table-column",{key:Math.random(),attrs:{label:"当前状态",prop:"status"}}),a("el-table-column",{key:Math.random(),attrs:{label:"可用操作",prop:"desc"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:function(a){return t.modcmd("able",e.row.plguinFilename)}}},[t._v("启用")])]}}])})],1)],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("垃圾箱")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){}}},[t._v("清空垃圾箱")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.removed,"max-height":"250"}},[a("el-table-column",{key:Math.random(),attrs:{label:"模组名称",prop:"modFilename"}}),a("el-table-column",{key:Math.random(),attrs:{label:"当前状态",prop:"status"}}),a("el-table-column",{key:Math.random(),attrs:{label:"可用操作",prop:"desc"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:function(a){return t.modcmd("able",e.row.plguinFilename)}}},[t._v("启用")])]}}])})],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("详细信息")])]),a("json-viewer",{attrs:{value:t.moreInfo,"expand-depth":5,copyable:"",boxed:"",sort:""}})],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("上传")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.getUploadUrl}},[t._v("上传到服务器")])],1),a("el-upload",{staticClass:"upload-demo",attrs:{drag:"","http-request":t.getUploadUrl,action:"",multiple:"","on-change":t.onFileChange,"file-list":this.fileList,"auto-upload":!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})])],1)],1)],1)],1)},o=[],l={data:function(){return{fileList:[],tableData:[],moreInfo:["点击一个插件获取他的信息"],upurl:this.Common.url+"/admin/upfileplugins?name="+JSON.parse(sessionStorage.getItem("user"))["userModel"]["user_name"]+"&token="+this.Common.adminToken}},mounted:function(){},methods:{onFileChange:function(t){console.log(t),this.fileList.push(t),console.log(this.fileList)},getUploadUrl:function(){var t=this,e=this;if(this.fileList.length>0){this.upurl=this.Common.url+"/admin/upfileplugins?name="+JSON.parse(sessionStorage.getItem("user"))["userModel"]["user_name"]+"&token="+this.Common.adminToken;var a=new FormData;a.append("file",this.fileList.pop()["raw"]),this.$axios.post(this.upurl,a).then((function(t){e.getUploadUrl()})).catch((function(e){t.$message.error("失败: "+e+" 建议打开控制台查看"),console.log(e)}))}},getModinfo:function(t){var e=this,a=this;this.$axios.get(this.Common.url+"/admin/moreplugininfo?filename="+t.plguinFilename+"&name="+JSON.parse(sessionStorage.getItem("user"))["userModel"]["user_name"]+"&token="+a.Common.adminToken,this.param).then((function(t){a.moreInfo=t["data"]})).catch((function(t){e.$message.error("失败: "+t+" 建议打开控制台查看"),console.log(t)}))},getMod:function(){var t=this,e=this;this.$axios.get(this.Common.url+"/admin/pluginScanning?name="+JSON.parse(sessionStorage.getItem("user"))["userModel"]["user_name"]+"&token="+this.Common.adminToken).then((function(t){e.tableData=t["data"]})).catch((function(e){t.$message.error("失败: "+e+" 建议打开控制台查看"),console.log(e)}))},modcmd:function(t,e){var a=this;console.log(t);void 0!=t&&this.$axios.get(this.Common.url+"/admin/pluginScanning?name="+JSON.parse(sessionStorage.getItem("user"))["userModel"]["user_name"]+"&token="+this.Common.adminToken+"&cmd="+t+"&filename="+encodeURIComponent(e)).then((function(t){a.getMod()})).catch((function(t){a.$message.error("失败: "+t+" 建议打开控制台查看"),console.log(t)}))}},computed:{normal:function(){return this.tableData.filter((function(t){return"normal"===t.status}))},removed:function(){return this.tableData.filter((function(t){return"removed"===t.status}))},disable:function(){return this.tableData.filter((function(t){return"disable"===t.status}))}}},s=l,i=(a("e927"),a("c701")),r=Object(i["a"])(s,n,o,!1,null,null,null);e["default"]=r.exports},e927:function(t,e,a){"use strict";a("67cb")}}]);